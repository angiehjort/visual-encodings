$color-primary := #FFCA34;
$color-grey := #999999;
$color-grey-medium := #b2b2b2;
$color-grey-light := #ECEBE9;
$color-black := #222222;
$color-blue-dark := #607889;
$color-blue-darker := #425663;


$body-min-width := 250px;
$header-height := 50px;

$small-screen := 785px;
$large-screen := 1025px;

$size-column := 230px;

// fonts;
// --------------------------------------------------

$font-fallback := "Lucida Sans Unicode", "Lucida Grande", "Helvetica Neue", Helvetica, Arial, sans-serif;

$theme-font-thin := "Rubik Light", $font-fallback;
$theme-font-thin-italic := "Rubik Light Italic", $font-fallback;
$theme-font-light := "Rubik Light", $font-fallback;
$theme-font-light-italic := "Rubik Light Italic", $font-fallback;

$theme-font-regular := "Rubik Regular", $font-fallback;
$theme-font-regular-italic := "Rubik Regular Italic", $font-fallback;
$theme-font-medium := "Rubik Medium", $font-fallback;
$theme-font-medium-italic := "Rubik Medium Italic", $font-fallback;

$theme-font-bold := "Rubik Bold", $font-fallback;
$theme-font-bold-italic := "Rubik Bold Italic", $font-fallback;
$theme-font-black := "Rubik Black", $font-fallback;
$theme-font-black-italic := "Rubik Black Italic", $font-fallback;

$theme-font-monospace-regular := "Courier Prime", $font-fallback;
$theme-font-monospace-bold := "Courier Prime Bold", $font-fallback;





// Navbar
// --------------------------------------------------

$grid-columns := 12 !default;
$grid-gutter-width := 0px !default;

$navbar-height := 34px;
$navbar-height-mobile := 50px;
$navbar-height-tablet-portrait := 128px;

$navbar-border-radius := 0;
$navbar-border-size := 2px;
$navbar-border-color := $color-primary;

$navbar-default-bg := white;
$navbar-default-border := $color-grey-light;
$navbar-default-link-color := $color-black;
$brand-primary := $color-primary;


$font-size-header-regular := 16px;
$font-size-header-small := 13px;



media_queries = {
  small : "only screen and (max-width: $small-screen)",
  small-landscape  : "only screen and (max-width: $small-screen) and (orientation: landscape)",
  medium : "only screen and (min-width: $small-screen + 1) and (max-width: $large-screen - 1)",
  large : "only screen and (min-width: $large-screen)",
  not-large : "only screen and (max-width: $large-screen - 1)",
  not-small : "only screen and (min-width: $small-screen + 1)",
  tablet : "only screen and (min-width: 601px) and (max-width: 800px)",
  desktop : "only screen and (min-width: 801px)"
}

for_breakpoint(breakpoints)
  conditions = ()
  for breakpoint in breakpoints
    push(conditions, media_queries[breakpoint])
  conditions = join(", ", conditions)
  @media conditions
    {block}



box-sizing(m)
  -webkit-box-sizing m
  -moz-box-sizing m
  box-sizing m

border-radius(n)
  -webkit-border-radius n
  -moz-border-radius n
  border-radius n

columns(k)
  -webkit-columns k
  -moz-columns k
  columns k

flex-direction(value)
  -webkit-flex-direction value
  -ms-flex-direction value
  flex-direction value


//TODO: cleanup - copied from bootstrap

// Creates a wrapper for a series of columns
make-row($gutter = $grid-gutter-width)
  margin-left: ceil($gutter / -2)
  margin-right: floor($gutter / -2)
  clearfix()

clearfix()
  &:before,
  &:after
    content: " "
    display: table
  &:after
    clear: both

// Generate the medium columns
make-md-column($columns, $gutter = $grid-gutter-width)
  position: relative
  min-height: 1px
  padding-left: ($gutter / 2)
  padding-right: ($gutter / 2)
  margin 0
  @media (min-width: ($small-screen + 1))
    float: left
    width: percentage($columns / $grid-columns)

get-global-margin-left()
  @media (max-width: $small-screen)
    margin-left: 10px
  @media (min-width: $large-screen)
    margin-left: calc(5px + 0.015 * (100vw - 290px))
  margin-left: 20px
  
get-font-size(size)
  if size == small
    @media (max-width: $small-screen)
      font-size: 10px
    @media (min-width: $large-screen)
      font-size: 15px
    font-size: 12px
  else if size == large
    @media (max-width: $small-screen)
      font-size: 18px
    @media (min-width: $large-screen)
      font-size: 24px
    font-size: 20px
  else 
    @media (max-width: $small-screen)
      font-size: 12px
    @media (min-width: $large-screen)
      font-size: 18px
    font-size: 16px

yellow-box()
  color #fff
  background $color-primary
  border none
  font-size 15px
  margin 5px 0
  border-radius (4px)
  outline none
  width 22px
  height 22px
  line-height 22px
  padding 0
  text-align center
  path
    fill white

nav-faq-help-links()
  a
    white-space nowrap
    font-size $font-size-header-regular
    text-transform none
    letter-spacing normal
    margin-right 15px
    color $color-blue-darker
    font-family $theme-font-light
    &:hover
      color $brand-primary


      
.app-user-login

  button, span.button
    appearance: none
    -webkit-appearance: none
    -moz-appearance: none
    border: 0
    background: none
    font-size: 1em
    color:  $color-blue-darker
    margin: 20px 0
    cursor: pointer
    &:hover
      color: $color-primary;

  &.open
    .user-login-form-wrapper
      display: flex
      z-index: 9999

  &.logged
    .user-login-title
      display: none
    .user-logged-title
      display: block
    &.open
      .user-login-form-wrapper
        display: none
      .user-logged-form-wrapper
        display: flex


  .user-login-title, .user-logged-title
    font-size: .8em
    padding: 2px 6px
    text-wrap: nowrap
    border: $color-primary solid 1px
    border-radius: 4px
    cursor: pointer

  .user-logged-title
    display: none
    color $color-primary
    width 30px
    &:after
      content '\25BC'
      padding 0 0 0 4px
      border-left 1px solid $color-primary
      color $brand-primary 
      position absolute
      right 4px

  .user-logged-form-wrapper
    display: none

    flex-direction: column;
    z-index: 1;
    position: absolute;
    top: 31px;
    width: 200px;
    right: 0px;
    background-color: #ffffff
    border: 1px solid $color-primary;
    color: $brand-primary

    button
      margin 0
      padding 2px 10px
      font-size .9em

    hr
      width 80%

    .user-logged-name
      align-self center
      margin-top 5px
      margin-bottom 10px
      font-size .8em

  .user-login-form-wrapper
    display: none

    position: absolute
    justify-content: center
    flex-direction: column
    align-content: center
    align-items: center
    
    .user-login-close
      margin-top: -5px
      margin-right: 4px

    .user-login-form
      background-color: #ffffff

      .panel
        display: flex
        flex-direction: column
        align-items: center
        margin: 24px 30px 4px

        label
          margin-top: 20px
          align-self: flex-start
          font-size: .8em

        hr
          margin-bottom: 0
          width: 100%
        .hr-text-center
          margin-top: -.7em
          padding: 0 5px
          background-color: #ffffff

        .login-oauth
          display: flex;
          flex-direction: row;
          justify-content: space-around;
          width: 100%;

      .signup-panel
        display: none

      &.signup
        .signup-panel
          display: flex
        .login-panel
          display: none

